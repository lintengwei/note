# ansi 控制码说明

[https://www.jianshu.com/p/248a276e1a18](https://www.jianshu.com/p/248a276e1a18)

ansi 控制码是用 Esc 标志开始的.Esc 的 十进制 值为 27,十六进制表示为 0x001b,unicode 码为\u001b.
所以在 node 中,如果要使用 ansi 控制码,需要用\u001b 开头,后面跟控制码.

例如:
echo -ne "\33[32m" 可以将字符的显示颜色改为绿色
echo -ne "\33[3;1H" 可以将光标移到第 3 行第 1 列处
具体的摘抄一些如下：
\33[0m 关闭所有属性
\33[1m 设置高亮度
\33[4m 下划线
\33[5m 闪烁
\33[7m 反显
\33[8m 消隐
\33[30m -- \33[37m 设置前景色
\33[40m -- \33[47m 设置背景色
\33[nA 光标上移 n 行
\33[nB 光标下移 n 行
\33[nC 光标右移 n 行
\33[nD 光标左移 n 行
\33[y;xH 设置光标位置
\33[2J 清屏
\33[K 清除从光标到行尾的内容
\33[s 保存光标位置
\33[u 恢复光标位置
\33[?25l 隐藏光标
\33[?25h 显示光标

[ <parameters> m 设置显示属性. 同样的序列可以设置一个或多个属性.

par 作用
0 所有属性重设为默认值
1 设置边框
2 设置亮度减半(用一种颜色模拟另一种颜色)
4 设置底纹(用一种颜色模拟另一种颜色)
(用于模拟的颜色由 using ESC ] ...设置)
5 设置闪烁
7 设置反转视频(reverse video)
10 重设选定映像,显示控制标记,
反转元素标记.
11 选择空映像,设置显示控制标记,
重设反转标记.
12 选择空映像,设置显示控制标记,
重设反转标记.(在完成映像表转
换之前反转标记引起每一字节的
高位反转.)
21 设置正常亮度(和 ECMA-48 不兼容)
22 设置正常亮度
24 关闭下划线
25 不闪烁
27 反转视频关闭
30 黑色背景
31 红色前景
32 绿色前景
33 棕色前景
34 蓝色前景
35 品红前景
36 孔雀蓝前景
37 白色前景
38 打开下划线,设置默认前景色
39 关闭下划线,设置默认前景色
40 黑色背景
41 红色背景
42 绿色背景
43 棕色背景
44 蓝色背景
45 品红背景
46 孔雀蓝背景
47 白色背景
49 设置默认背景色

```javascript
const stream = require('stream')

class GreenStream extends stream.Writable {
  constructor(options) {
    super(options)
  }

  _write(chunk, encoding, cb) {
    //  process.stderr.write(`\u001b[31m${chunk}\u001b[39m`)
    //  前面的\u001b[31m用于设定SGR颜色，后面的\u001b[0m相当于一个封闭标签作为前面SGR颜色的作用范围的结束点标记。
    process.stdout.write(`\u001b[31m${chunk}\u001b[39m`)
    cb()
  }
}

process.stdin.pipe(new GreenStream())
```
