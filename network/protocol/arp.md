# arp（address resolution protocol）

地址解析协议。通过 ip 地址获取 mac 地址的一个协议。协议格式（单位 byte）：

- 硬件类型
  - 2
  - 表明当前的硬件地址类型。以太网该值为 1
- 协议类型
  - 1
  - 表明当前要映射的协议地址类型。ip 地址的值为 0x0800
- 硬件地址长度
  - 1
  - 硬件地址的长度。以太网的 mac 地址一般为 6
- 协议地址长度
  - 1
  - 以太网上的 ip 地址 4/6
- 操作类型（op opCode）
  - 2
  - 操作类型。1=arp 请求、2=arp 应答、3=rarp 请求、4=rarp 应答
- 发送端以太网地址
  - 6
  - request 必填
- 发送端 ip 地址
  - 4
  - request 必填
- 接收端以太网地址
  - 6
  - request 可以为空，用 00:00:00:00:00:00 填充，当对应主机应答的时候，把该值填充
- 接收端 ip 地址
  - 4

## FAQ

1. arp 不是以广播的形式发送请求的吗？为什么在抓包的时候看到也有单播的形式？
